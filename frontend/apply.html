<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apply - Theotokos Institute Zambia</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">
  <!-- Header -->
  <header class="bg-blue-900 text-white py-4 sticky top-0 z-50 shadow-md">
    <div class="container mx-auto px-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Theotokos Institute Zambia</h1>
      <nav>
        <a href="index.html" class="text-blue-300 hover:text-blue-100 mx-2">Home</a>
        <a href="login.html" class="text-blue-300 hover:text-blue-100 mx-2">Login</a>
      </nav>
    </div>
  </header>

  <!-- Application Form -->
  <section class="py-16">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">Application Form</h2>
      <form id="application-form" class="max-w-lg mx-auto bg-white p-6 rounded-lg shadow-md" enctype="multipart/form-data">
        <div class="mb-4">
          <label for="fullName" class="block text-gray-700 font-bold mb-2">Full Name</label>
          <input type="text" id="fullName" name="fullName" class="w-full p-2 border rounded" required>
        </div>
        <div class="mb-4">
          <label for="address" class="block text-gray-700 font-bold mb-2">Address</label>
          <input type="text" id="address" name="address" class="w-full p-2 border rounded" required>
        </div>
        <div class="mb-4">
          <label for="education" class="block text-gray-700 font-bold mb-2">Highest Education Level</label>
          <select id="education" name="education" class="w-full p-2 border rounded" required>
            <option value="" disabled selected>Select education level</option>
            <option value="High School">High School</option>
            <option value="Diploma">Diploma</option>
            <option value="Bachelor's">Bachelor's</option>
            <option value="Master's">Master's</option>
          </select>
        </div>
        <div class="mb-4">
          <label for="qualificationFile" class="block text-gray-700 font-bold mb-2">Qualification File (PDF)</label>
          <input type="file" id="qualificationFile" name="qualificationFile" class="w-full p-2 border rounded" accept="application/pdf" required>
        </div>
        <div class="mb-4">
          <label for="school" class="block text-gray-700 font-bold mb-2">School</label>
          <select id="school" name="school" class="w-full p-2 border rounded" required>
            <option value="" disabled selected>Select school</option>
            <option value="School of Business">School of Business</option>
            <option value="School of Computer Science">School of Computer Science</option>
            <option value="School of Liberal Arts">School of Liberal Arts</option>
          </select>
        </div>
        <div class="mb-4">
          <label for="program" class="block text-gray-700 font-bold mb-2">Program</label>
          <select id="program" name="program" class="w-full p-2 border rounded" required>
            <option value="" disabled selected>Select program</option>
            <option value="Business Administration">Business Administration</option>
            <option value="Computer Science">Computer Science</option>
            <option value="Philosophy">Philosophy</option>
          </select>
        </div>
        <div class="mb-4">
          <label for="intake" class="block text-gray-700 font-bold mb-2">Intake</label>
          <select id="intake" name="intake" class="w-full p-2 border rounded" required>
            <option value="" disabled selected>Select intake</option>
            <option value="January 2026">January 2026</option>
            <option value="July 2026">July 2026</option>
          </select>
        </div>
        <div class="mb-4">
          <label for="mode" class="block text-gray-700 font-bold mb-2">Mode of Study</label>
          <select id="mode" name="mode" class="w-full p-2 border rounded" required>
            <option value="" disabled selected>Select mode</option>
            <option value="Full-time">Full-time</option>
            <option value="Part-time">Part-time</option>
            <option value="Online">Online</option>
          </select>
        </div>
        <div class="mb-4">
          <label for="email" class="block text-gray-700 font-bold mb-2">Email</label>
          <input type="email" id="email" name="email" class="w-full p-2 border rounded" required>
        </div>
        <div class="mb-4">
          <label for="phone" class="block text-gray-700 font-bold mb-2">Phone</label>
          <input type="tel" id="phone" name="phone" class="w-full p-2 border rounded" required>
        </div>
        <div class="mb-4">
          <label for="source" class="block text-gray-700 font-bold mb-2">How did you hear about us?</label>
          <select id="source" name="source" class="w-full p-2 border rounded" required>
            <option value="" disabled selected>Select source</option>
            <option value="Website">Website</option>
            <option value="Social Media">Social Media</option>
            <option value="Referral">Referral</option>
            <option value="Advertisement">Advertisement</option>
          </select>
        </div>
        <button type="submit" class="w-full bg-blue-900 text-white p-2 rounded hover:bg-blue-800">Submit Application</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-blue-900 text-white py-8">
    <div class="container mx-auto px-4 text-center">
      <p class="mb-4">Contact us: info@theotokosinstitutezambia.edu | (123) 456-7890</p>
      <p class="mb-4">123 University Avenue, Lusaka, Zambia</p>
      <p class="mt-4">Â© 2025 Theotokos Institute Zambia. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.getElementById('application-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData();
      formData.append('fullName', document.getElementById('fullName').value);
      formData.append('address', document.getElementById('address').value);
      formData.append('education', document.getElementById('education').value);
      formData.append('qualificationFile', document.getElementById('qualificationFile').files[0]);
      formData.append('school', document.getElementById('school').value);
      formData.append('program', document.getElementById('program').value);
      formData.append('intake', document.getElementById('intake').value);
      formData.append('mode', document.getElementById('mode').value);
      formData.append('email', document.getElementById('email').value);
      formData.append('phone', document.getElementById('phone').value);
      formData.append('source', document.getElementById('source').value);

      try {
        const response = await fetch('http://localhost:3000/api/apply', {
          method: 'POST',
          body: formData
        });

        if (response.ok) {
          alert('Application submitted successfully!');
          document.getElementById('application-form').reset();
        } else {
          alert('Failed to submit application. Please try again.');
        }
      } catch (error) {
        alert('Server error. Please try again later.');
      }
    });
  </script>
</body>
</html>
